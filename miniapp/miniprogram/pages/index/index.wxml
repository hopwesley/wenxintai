<view class="page">
  <view class="hero">
    <text class="title">选择要体验的测评产品</text>
    <text class="subtitle">登录后将为你同步网页端测评进度</text>
  </view>

  <view class="card">
    <view class="section-title">产品</view>
    <radio-group class="list" bindchange="onProductChange">
      <block wx:for="{{products}}" wx:key="id">
        <label class="list-item">
          <radio value="{{item.id}}" checked="{{selectedProductId === item.id}}" />
          <view class="list-content">
            <text class="item-name">{{item.name}}</text>
            <text class="item-desc">{{item.description || '适配 Codex 测评流程'}}</text>
          </view>
        </label>
      </block>
    </radio-group>
  </view>

  <view class="card">
    <view class="section-title">兴趣偏好</view>
    <checkbox-group class="tags" bindchange="onHobbyChange">
      <block wx:for="{{hobbies}}" wx:key="id">
        <label class="tag">
          <checkbox value="{{item.id}}" checked="{{selectedHobbies.includes(item.id)}}" />
          <text>{{item.name}}</text>
        </label>
      </block>
    </checkbox-group>
  </view>

  <view class="actions">
    <button type="primary" loading="{{loading}}" bindtap="goToBasicInfo">开始测评</button>
    <button type="default" bindtap="goToLogin">微信登录</button>
    <button wx:if="{{hasSession}}" bindtap="continueTest">继续未完成测评</button>
  </view>

  <view wx:if="{{statusMessage}}" class="status">{{statusMessage}}</view>
</view>
