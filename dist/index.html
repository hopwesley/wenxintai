<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>问心台</title>
    <link rel="stylesheet" href="./css/index.css">
</head>
<body>

<div class="bg-gradient"></div>
<header>
    <div class="nav">
        <div class="logo"></div>
        <div class="brand">问心台</div>
        <span class="pill">非诊断工具 · 仅供筛查参考</span>
    </div>
</header>
<!-- 入口页：年级选择（进入后才显示三步流程） -->
<div class="card-grid" role="group" aria-label="选择年级">
    <div class="entry-card-option card-uni" data-grade="大学生">
        <h3>大学生</h3>
        <p class="muted">适用于本科/研究生群体</p>
    </div>
    <div class="entry-card-option card-high" data-grade="中学生">
        <h3>中学生</h3>
        <p class="muted">适用于高中阶段学生</p>
    </div>
    <div class="entry-card-option card-mid" data-grade="初中生">
        <h3>初中生</h3>
        <p class="muted">适用于初中阶段学生</p>
    </div>
</div>

<main hidden>
    <div class="container">
        <div class="steps">
            <div class="step active">
                <span>Step1</span>
                <p>请选择学生类别与性别</p>
            </div>
            <div class="step">
                <span>Step2</span>
                <p>完成问卷并提交</p>
            </div>
            <div class="step">
                <span>Step3</span>
                <p>查看分析报告</p>
            </div>
        </div>
        <!-- Step 0 -->
        <section class="card" id="step0">
            <div class="step1-Box">
                <h2>基本信息</h2>
                <p class="muted">请输入您的姓名。</p>
                <div class="row">
                    <input type="text" id="studentName" name="studentName" placeholder="请输入姓名"
                           style="padding:12px;border:1px solid #e5e7eb;border-radius:999px;width:240px">
                </div>
                <h3 style="margin-top:16px">年级</h3>
                <p class="muted">请选择您所在的年级。</p>
                <div class="row">
                    <select id="grade" name="grade" class="input-field" style="padding:12px;border:1px solid #e5e7eb;border-radius:999px;width:240px">
                        <option value="">请选择年级</option>
                        <optgroup label="初中">
                            <option value="初一">初一</option>
                            <option value="初二">初二</option>
                            <option value="初三">初三</option>
                        </optgroup>
                        <optgroup label="高中">
                            <option value="高一">高一</option>
                            <option value="高二">高二</option>
                            <option value="高三">高三</option>
                        </optgroup>
                    </select>
                </div>

                <h3 style="margin-top:16px">所在省份</h3>
                <p class="muted">请选择您所在的省份。</p>
                <div class="row">
                    <select id="province" name="province"
                            style="padding:12px;border:1px solid #e5e7eb;border-radius:999px;width:240px">
                        <option value="">请选择省份</option>
                        <option value="北京">北京</option>
                        <option value="上海">上海</option>
                        <option value="天津">天津</option>
                        <option value="重庆">重庆</option>
                        <option value="河北">河北</option>
                        <option value="山西">山西</option>
                        <option value="辽宁">辽宁</option>
                        <option value="吉林">吉林</option>
                        <option value="黑龙江">黑龙江</option>
                        <option value="江苏">江苏</option>
                        <option value="浙江">浙江</option>
                        <option value="安徽">安徽</option>
                        <option value="福建">福建</option>
                        <option value="江西">江西</option>
                        <option value="山东">山东</option>
                        <option value="河南">河南</option>
                        <option value="湖北">湖北</option>
                        <option value="湖南">湖南</option>
                        <option value="广东">广东</option>
                        <option value="海南">海南</option>
                        <option value="四川">四川</option>
                        <option value="贵州">贵州</option>
                        <option value="云南">云南</option>
                        <option value="陕西">陕西</option>
                        <option value="甘肃">甘肃</option>
                        <option value="青海">青海</option>
                        <option value="台湾">台湾</option>
                        <option value="内蒙古">内蒙古</option>
                        <option value="广西">广西</option>
                        <option value="西藏">西藏</option>
                        <option value="宁夏">宁夏</option>
                        <option value="新疆">新疆</option>
                        <option value="香港">香港</option>
                        <option value="澳门">澳门</option>
                    </select>
                </div>
                <h3 style="margin-top:16px">性别</h3>
                <p class="muted">请选择性别。</p>
                <div class="row" role="group" aria-label="选择性别">
                    <label class="pill"><input type="radio" name="gender" value="女" checked> 女</label>
                    <label class="pill"><input type="radio" name="gender" value="男"> 男</label>
                </div>

                <button class="btn" id="toStep1" style="margin-top:16px">确定</button>
            </div>
        </section>
        <!-- Step 1 -->
        <section class="card" id="step1" hidden>
            <div class="row" style="justify-content:space-between;background-color:#f7f7f8;padding:12px 16px">
                <h2>第一步 · 风险筛查题（1~5分）</h2>
                <span class="muted">1=从不 · 2=偶尔 · 3=有时 · 4=经常 · 5=总是</span>
            </div>
            <div id="questions" class="step2-Box"></div>
            <div class="row" style="justify-content:space-between;margin:16px 0">
                <div style="margin:auto">
                    <button class="btn" id="submit">提交并生成报告</button>
                </div>
            </div>
        </section>
        <!-- Step 2 -->
        <section class="card step3-Box" id="step2" hidden>
            <h2>第二步 · 心理状况分析报告</h2>
            <div class="kpi" id="kpi"></div>
            <div style="margin-top:24px">
                <h3>作答与效度</h3>
                <div id="validity"></div>
            </div>
            <div style="margin-top:24px">
                <h3>面向校方的筛查性文字报告</h3>
                <textarea id="report" readonly></textarea>
                <p class="footer-tip">提示：可复制此报告纳入学校筛查台账。本页为示范，不替代专业诊断。</p>
            </div>
            <div style="margin-top:12px;    display: flex;gap: 24px;flex-direction: row;justify-content: center;">
                <button class="btn secondary" id="back">返回修改作答</button>
                <button class="btn" id="print">打印/保存 PDF</button>
            </div>
        </section>
    </div>
</main>
<div id="loading" class="loading hidden">
    <div class="spinner"></div>
    <p>正在生成报告，请稍候...</p>
</div>
<script type="module" src="./js/main.js"></script>
</body>
</html>
