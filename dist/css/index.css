:root{
    --c:#4164D9;   /* 主题色 */
    --bg:#f8fafc;
    --txt:#111827;
    --mut:#6b7280;
    --ok:#16a34a;
    --warn:#f59e0b;
    --bad:#dc2626;

    --hero-pad: 160px;      /* 渐变区域的底部留白 */
    --hero-overlap: 100px;  /* Step0 上移覆盖的距离 */
}

*{box-sizing:border-box}
p,h2,h3{margin:0}
body{margin:0;background:#fff;color:var(--txt);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
#birthDate {
    font-size: 14px;
    padding: 10px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    width: 100%;
    max-width: 240px;
}

/* 顶部渐变背景固定在顶部 */
.bg-gradient {
    background: linear-gradient(180deg, #F2F0FC 0%, #E5F3F4 40%, #ffffff 100%);
    padding-bottom: var(--hero-pad);
    position: fixed;     /* 固定背景 */
    top: 0;
    left: 0;
    right: 0;
    height: 40%;       /* 控制渐变高度 */
    z-index: -999;
}

/* 导航栏固定在渐变背景上方 */
header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: transparent;
    border-bottom: 1px solid #e5e7eb;
    z-index: 10;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

header.scrolled {
    background: #fff;          /* 滚动后变白 */
    box-shadow: 0 2px 6px rgba(0,0,0,0.05); /* 可选，增加分隔感 */
}


body {
    padding-top: 80px; /* 给内容留出导航栏高度的空间 */
}

.nav{
    max-width:1000px;margin:auto;
    display:flex;align-items:center;gap:12px;
    padding:16px 16px
}

.logo {
    width: 28px;
    height: 28px;
    border-radius: 8px;
    background: url("../img/logo.png") no-repeat center center / cover;
}

.brand{
    font-weight:700
}

/* 入口页卡片布局 */
.card-grid {
    display: grid;
    grid-template-columns: 1fr;
    margin: 40px auto;   /* 关键：居中 */
    max-width: 1000px;   /* 最大宽度 */
}

@media (min-width: 640px) {
    .card-grid {
        grid-template-columns: 1fr 1fr 1fr;
    }
}

.entry-card-option {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 160px;           /* 高度更高 */
    border-radius: 16px;
    padding: 24px;
    cursor: pointer;
    transition: all 0.2s ease;
    background: #fff;
    color: #111827;
    text-align: center;
    font-weight: 500;
    margin:  0 16px;
}

.entry-card-option:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.08);
}

.entry-card-option input {
    display: none;
}

.entry-card-option input:checked + .option-content {
    border-left: 4px solid var(--c);
    padding-left: 16px;
}
/* 大学生卡片（蓝色系） */
.card-uni {
    background: linear-gradient(135deg, #4164D9, #6B8EF2);
    color: #fff;
}

/* 中学生卡片（绿色系） */
.card-high {
    background: linear-gradient(135deg, #16a34a, #4ade80);
    color: #fff;
}

/* 初中生卡片（橙色系） */
.card-mid {
    background: linear-gradient(135deg, #f59e0b, #fbbf24);
    color: #fff;
}

.entry-card-option h3 {
    margin: 0;
    font-size: 20px;
    font-weight: 700;
}
.entry-card-option p {
    margin: 8px 0 0;
    font-size: 14px;
    opacity: 0.9;
    color: aliceblue;
}
/* 步骤进度条 */
.steps{display:flex;justify-content:center;gap:24px;max-width:1000px;margin:24px auto 0}
.step{
    flex:1;background:#fff;border-radius:12px;padding:16px;text-align:center;
    border:1px solid #e5e7eb;color:#6b7280;transition:all .2s
}
.step span{
    display:inline-block;background:#e5e7eb;border-radius:999px;padding:2px 10px;
    font-size:12px;font-weight:600;margin-bottom:6px
}
.step.active{border-color:var(--c);color:#111827;background:#eff6ff}
.step.active span{background:var(--c);color:#fff}

main{max-width:1000px;margin:0 auto;padding:0 16px;position:relative;z-index:1}

/* 卡片通用样式，三步保持一致 */
.card {
    background:#fff;
    border-radius:28px;
    max-width:1000px;
    margin:40px auto;
    box-shadow:0 16px 48px rgba(0,0,0,.05);
    overflow:hidden;
}

.step1-Box{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:12px;
    margin:32px 0
}
.step2-Box{
    padding:18px 32px
}
.row{
    display:flex;
    flex-wrap:wrap;
    gap:12px;
    align-items:center
}
.btn{
    appearance:none;
    border:none;
    background:var(--c);
    color:#fff;
    border-radius:999px;
    padding:12px 32px;
    font-weight:600;
    cursor:pointer
}
.btn.secondary{background:#1118270d;color:#111827;border:1px solid #e5e7eb}
.btn:disabled{opacity:.5;cursor:not-allowed}

/* 问卷卡片样式 */
.q {
    width: 100%;
    border-radius: 16px;
    padding: 16px;
    margin-bottom: 16px;
    background: rgb(251 251 251);
    transition: all 0.2s ease;
}

.q:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 14px rgba(0,0,0,0.08);
}

.qtitle {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 12px;
    color: #111827;
}

/* 卡片内的选择按钮 */
.scale {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

.scale label {
    flex: 1;
    min-width: 42px;
    text-align: center;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    padding: 10px 0;
    cursor: pointer;
    background: #f9fafb;
    font-weight: 500;
    transition: all 0.15s ease;
}

.scale label:hover {
    background: #eef2ff;
    border-color: var(--c);
}

.scale input {
    display: none;
}

.scale label:has(input:checked) {
    background: var(--c);
    color: #fff;
    border-color: var(--c);
}

.q:first-child{
    border-top:none
}

.scale label:hover{background-color:rgba(203,213,225,0.4)}

.muted{color:var(--mut)}
.pill{
    display:inline-block;
    border-radius:999px;
    padding:10px 18px;
    font-size:14px;
    border:1px solid #e5e7eb;
    background:#f9fafb
}

.kpi{display:flex;gap:12px;flex-wrap:wrap}
.kpi .item{flex:1 1 200px;border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff}
.kpi .item-d {
    background: rgba(6, 142, 220, 0.1);
    border: none;
}
.kpi .item-a {
    background: rgba(241, 165, 44, 0.1);
    border: none;
}
.kpi .item-v {
    background: rgba(63, 154, 33, 0.1);
    border: none;
}
.kpi .score{font-size:28px;font-weight:800}
.item-d .score{color:#068EDC}
.item-a .score{color:#F1A52C}
.item-v .score{color:#3F9A21}

.step3-Box {
    padding: 32px 18px;
}

.badge-ok{
    color:var(--ok)
}
.badge-warn{
    color:var(--warn)
}
.badge-bad{
    color:var(--bad)
}
textarea{
    width:100%;
    min-height:160px;
    resize:vertical;
    border-radius:10px;
    border:1px solid #e5e7eb;
    padding:10px
}
.footer-tip{font-size:12px;color:#6b7280}
.grid2{display:grid;grid-template-columns:1fr;gap:12px}
/* Loading 遮罩层 */
.loading {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255,255,255,0.8);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 2000;
}

.loading.hidden {
    display: none;
}

.spinner {
    width: 48px;
    height: 48px;
    border: 4px solid #e5e7eb;
    border-top-color: var(--c);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 12px;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

@media (min-width:860px){.grid2{grid-template-columns:1fr 1fr}}